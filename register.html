<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Endeavour SLIET">
    <meta property="og:description" content="An official robotics club of SLIET, Longowal">
    <meta property="og:url" content="https://endeavoursliet.in">
    <meta property="og:image" content="https://endeavoursliet.in/images/mainlogo.png">
    <meta name="keywords" content="endeavour, endeavoursliet, sliet, endeavor, endeavorsliet, techfest, techfest22, madhuram, longowal, sangrur, delhi, iitbombay, iitdelhi, iit, nit, cfti, cuturalfest, mhrd, govt, endeavour recruitment">
    <meta name="description" content="Official Website of Team Endeavour, Sliet Longowal">
    <link rel="icon" type="image/png" href="./images/10Artboard 1_1white Endeavour.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <link rel="stylesheet" href="/css/reg.css">
    <link rel="stylesheet" href="./css/style.css">
    <title>Endeavour | register </title>
</head>
<body>
    <nav class="topNav">
        <div class="emptySpace25">
            <div class="endeavourLogo"><a href="./index.html#home"><img src="./images/mainlogo.png" alt="Endeavour-Logo" srcset=""></a></div>
        </div>
        <ul class="navArray">
            <li class="navComponent flex-center"><a href="./index.html#home" class="flex-center">HOME</a></li>
            <li class="navComponent flex-center"><a href="./about.html#aboutTeam" class="flex-center">ABOUT US</a></li>
            <li class="navComponent flex-center"><a href="projects.html#UAVs" class="flex-center">DOMAINS</a></li>
            <li class="navComponent flex-center"><a href="./index.html#sponsors" class="flex-center">SPONSORS</a></li>
            <li class="navComponent flex-center"><a href=".teams.html" class="flex-center ">TEAM</a></li>
        </ul>
        <div class="emptySpace25">
            <div class="endeavourLogo"><a href="http://sliet.ac.in/" target="_blank" rel="noopener noreferrer"><img src="./images/SLIET_in_Colours_of_ENDEAVOUR.png" alt="Endeavour-Logo" srcset=""></a></div>
        </div>
    </nav>
    <!-- TOP NAVIGATION -->
    <div class="container">

        <div class="content">

            <div class="left">
                <div class="logo"><a href="#"><img src="./images/footerLogo.png" alt="Endeavour-Logo" srcset=""></a></div>
            </div>
            <p class="content-dealing">
                Endeavour is the official robotics team of SLIET, Punjab, founded in 2014.
                Connecting like-minded yet unique intellectuals from all branches of engineering and aligning their skills and interests was the main objective behind the starting of Endeavour.<br>
                From then, our team is continuously working on various projects and participating in hackathons and techfests at national level.
                Looking for the opportunity for hands-on robots design?
                You've the entered the right place! To all the passionate and enthusiastic learners,<br> Endeavour have got it all for you. Come, and begin with us. We'll together make it to success.<BR>
                The Registration will get close at 11:50pm today <br>
                Register Fast <br>
                
                </p>
        </div>
        <div class="main">

            <p class="pageTitle title">Registration form</p>
            <p class="secondaryTitle title">Come and witness opportunities awaiting each day</p>
            <p>* mandatory fields</p>

            <input type="text" class="formEntry" id="name" placeholder="Name*" />
            <input type="email" class="formEntry" id="email" placeholder="Email*" />
            <input type="tel" class="formEntry" id="contact" placeholder="Contact No*" />
            <input type="number" class="formEntry" id="regno" placeholder="Reg No*" />

            <input type="text" class="formEntry" id="ten" placeholder="10th score*" />
            <input type="text" class="formEntry" id="twelve" placeholder="12th/Diploma score" />

            <textarea class="formEntry" id="why" placeholder="Why should we select you*"></textarea>


            <select class="formEntry" id="prog">
                <option vlaue"">Tap to select programme*</option>
                <option vlaue"B.E">B.E</option>
                <option vlaue"ICD">ICD</option>
            </select>

            <select class="formEntry" id="year">
                <option value="">Tap to select year*</option>
                <option value="First">First</option>
                <option value="Second">Second</option>
                <option value="Third">Third</option>
            </select>

            <select class="formEntry" id="select1">
                <option value="">Tap to select branch*</option>
                <option value="Computer">Computer science</option>
                <option value="Mechanical">Mechanical</option>
                <option value="Electronics">Electronics</option>
                <option value="Electrical">Electrical</option>
                <option value="Instrumentation">Instrumentation</option>
                <option value="Chemical">Chemical</option>
                <option value="Civil">Civil</option>
                <option value="Food">Food</option>
            </select>

            <button id="upbtn" class="formEntry" onclick="document.getElementById('getFile').click()">Tap to upload Photo*</button>
            <input type='file' id="getFile" style="display:none">

            <button id="resbtn" class="formEntry" onclick="document.getElementById('getRes').click()">Tap to upload Resume(optional)</button>
            <input type='file' id="getRes" style="display:none">

            <!--<button class="formEntry" onclick="document.getElementById('getFile').click()">Click to upload Resume</button>
    <input type='file' id="getFile" style="display:none">-->


            <input type="checkbox" class="cb" id="checkit">
            <label class="cb"> I hereby declare that all the information provided above is correct to the best of my knowledge.</label><br /><br />

            <input type="submit" id="submitbtn" class="submit" />
            
        </div>
    </div>
    <div class="pop_msg" id="pop">
        <h3 id="msg">message</h3>
        <button id="bty" onclick="close()"> okay </button>
    </div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js'
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-storage.js"
        import { getDatabase, set, ref as dbRef } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-database.js"

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyCLiMyt2x2k2ae-MlUlkd65opaCcS10dIk",
            authDomain: "website-3dd2f.firebaseapp.com",
            databaseURL: "https://website-3dd2f-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "website-3dd2f",
            storageBucket: "website-3dd2f.appspot.com",
            messagingSenderId: "516436685491",
            appId: "1:516436685491:web:b571c735bebe709c7836c6",
            measurementId: "G-HNQEGEB8P1"
        };

        //INTIALISE DATABASE
        initializeApp(firebaseConfig);

        const root = getDatabase();
        const storage = getStorage();        
        
        let uid="unknown"
        let photo;
        let resume;

        function upload() {
            const storageRef = ref(storage, uid + "photo");
            uploadBytes(storageRef, photo).then((snapshot) => {
                console.log('Uploaded photo!');

                getDownloadURL(storageRef)
                    .then((url) => {
                        if(resume)
                            upload1(url);
                        else
                            getready(url,"");
                        // `url` is the download URL for 'images/stars.jpg'
                    })
                    .catch((error) => {
                        // Handle any errors
                    });
            });
            
        }
        function upload1(x) {
            const storageRef = ref(storage, uid + "resume");
            uploadBytes(storageRef, resume).then((snapshot) => {
                console.log('Uploaded resume!');

                getDownloadURL(storageRef)
                    .then((url) => {
                        getready(x, url);
                        // `url` is the download URL for 'images/stars.jpg'
                    })
                    .catch((error) => {
                        // Handle any errors
                    });
            });

        }
        const fileInput = document.getElementById('getFile');
        fileInput.onchange = () => {
            const selectedFile = fileInput.files[0];
            photo = selectedFile;
            document.getElementById('upbtn').innerHTML = 'photo : ' + photo.name;

        }
        const fileInput1 = document.getElementById('getRes');
        fileInput1.onchange = () => {
            const selectedFile = fileInput1.files[0];
            resume = selectedFile;
            document.getElementById('resbtn').innerHTML = 'File : ' + resume.name;

        }

        let done=false
        function close() {
            if(!done)
                document.getElementById("pop").style.display = "none";
            else
                window.location.href = "./about.html";
        }
        bty.addEventListener('click', (e) => {
            if (!done)
                document.getElementById("pop").style.display = "none";
            else
                window.location.href = "./about.html";
        });
        close();
        function disp(x) {
            document.getElementById("pop").style.display = "block";
            document.getElementById("msg").innerHTML = x;
        }

        
        function writeUserData(_name, mail, _contact, _reg, _prog, _year, _trade, _ten, _twelve, _why, pht, res) {
            
            set(dbRef(root, 'registrations/' + uid), {
                name: _name,
                email: mail,
                contactno: _contact,
                reg: _reg,
                prog: _prog,
                year: _year,
                trade: _trade,
                ten: _ten,
                twelve: _twelve,
                why: _why,
                photo: pht,
                resume: res
            });
            done = true;
            disp("Thank you for registering we will contact you back soon")
        }
        function getready(pht,res) {
            var username = document.getElementById('name').value;
            var mail = document.getElementById('email').value;
            var _contact = document.getElementById('contact').value;
            var _reg = document.getElementById('regno').value;
            var _ten = document.getElementById('ten').value;
            var _twelve = document.getElementById('twelve').value;
            var _why = document.getElementById('why').value;
            var _prog = document.querySelector('#prog').value;
            var _year = document.querySelector('#year').value;
            var _trade = document.querySelector('#select1').value;

            writeUserData(username, mail, _contact, _reg, _prog, _year, _trade, _ten, _twelve, _why,pht,res)
            
        }
        submitbtn.addEventListener('click', (e) => {
            if (!done) {
                var username = document.getElementById('name').value;
                var mail = document.getElementById('email').value;
                var _contact = document.getElementById('contact').value;
                var _reg = document.getElementById('regno').value;
                var _ten = document.getElementById('ten').value;
                var _twelve = document.getElementById('twelve').value;
                var _why = document.getElementById('why').value;
                var _prog = document.querySelector('#prog').value;
                var _year = document.querySelector('#year').value;
                var _trade = document.querySelector('#select1').value;
                let el = document.getElementById('checkit');
                if (username && mail && _contact && _reg && _prog && _year && _trade && _ten && _why)
                    if (photo) {
                        if (el.checked) {
                            uid = _reg + " " + Date.now();
                            disp("Please wait...  uploading...")
                            upload();
                        } else
                            disp("Please check the tick box ")

                    }
                    else
                        disp("please upload photo")
                else
                    disp("please fill out all the fields")

            }
            
        });
    </script>
    <!-- ********** FOOTER ********** -->
    <section class="footer">
        <div class="connectionFooter flex-center">
            <div class="connectionFooterOne flex-center">
                <div class="endeavourLogoFooter flex-column-center"><img src="./images/logoSlietWhite.png" alt="Endeavour-Logo" srcset=""><img src="./images/footerLogo.png" alt="Endeavour-Logo" srcset=""></div>
            </div>
            <div class="connectionFooterTwo">
                <!-- 1 -->
                <div class="footerMainText">
                    <!-- 1.1 -->
                    E N D E A V O U R
                </div>
                <div class="footerTagText">
                    <!-- 1.2 -->
                    Strive to Create Difference
                </div>
                <div class="footerSocialIcons">
                    <!-- 1.3 -->
                    <a href="https://www.facebook.com/endeavoursliet"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/endeavoursliet/"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.linkedin.com/company/endeavoursliet/"><i class="fab fa-linkedin"></i></a>
                    <a href="mailto:endeavourinsliet@gmail.com"><i class="far fa-envelope"></i></a>
                </div>
            </div>
        </div>
        <div class="menuFooter">
            <!-- 2 -->
            <table class="menuFooterContainer">
                <tr>
                    <th>Our Team</th>
                    <th>Our Works</th>
                    <th></th>
                    <th></th>
                </tr>
                <tr>
                    <td><a href="./about.html#aboutTeam">About Us</a></td>
                    <td><a href="./projects.html#UAVs">UAVs</a></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><a href="./about.html#ourHistory">Our History</a></td>
                    <td><a href="./projects01.html#UGVs">UGVs</a></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><a href="./teams.html#ourTeam">Meet The Team</a></td>
                    <td><a href="./research.html#research">Research Projects</a></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
            <div class="contactContainer">
                <p><i class="fas fa-id-badge"></i> &nbsp Utsav Anand &#58 <a href="tel:+918968343016">+91 8968343016</a></p>
                <br />
                <p><i class="fas fa-id-badge"></i> &nbsp G Sai Harsh &#58 <a href="tel:+918085692977">+91 8085692977</a></p>
            </div>
        </div>
    </section>
    <!-- ********** FOOTER ********** -->
</body>
</html>
